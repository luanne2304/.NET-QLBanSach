@model bansach.Models.Sach


@{
    ViewBag.Title = "Edit";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}


<div class="container-fluid">
    <div class="card shadow mb-4" style="width:1000px; margin:auto;">
        <h2 class="ml-2 mt-2">Chỉnh sửa sách</h2>
        @using (Html.BeginForm("Edit", "AdminSach", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            @Html.AntiForgeryToken()

    <div class="form-horizontal">

        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(modelItem => modelItem.IDsach)

        <div class="form-group">
            @Html.LabelFor(modelItem => modelItem.Tensach, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(modelItem => modelItem.Tensach, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(modelItem => modelItem.Tensach, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(modelItem => modelItem.Tacgia, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(modelItem => modelItem.Tacgia, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(modelItem => modelItem.Tacgia, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(modelItem => modelItem.Mota, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                <textarea class="form-control" name="Mota" id="Mota" rows="4">@Model.Mota</textarea>
                @Html.ValidationMessageFor(modelItem => modelItem.Mota, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                @foreach (var v in ViewBag.Theloai)
                {
                    int s = 0;
                    int temp = v.IDloai;
                    string tenloai = v.Tenloai;
                    foreach (var i in ViewBag.Theloaicheck)
                    {
                        if (temp == i.IDloai)
                        {
                            <span>@tenloai</span>
                            @Html.CheckBox(temp.ToString(), true)
                            s = 1;
                            break;
                        }
                    }
                    if (s == 0)
                    {
                        <span>@tenloai</span>
                        @Html.CheckBox(temp.ToString(), false)
                    }
                }
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(modelItem => modelItem.Hinhanh, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.TextBoxFor(model => model.Hinhanh, new { type = "file" })
                <input type="text" name="tempimg" value="@Model.Hinhanh" hidden />
                @Html.ValidationMessageFor(modelItem => modelItem.Hinhanh, "", new { @class = "text-danger" })
                <img style="width:100px; height:150px" src="~/Content/AnhSP/@Model.Hinhanh" alt="" />
            </div>
        </div>
        <div class="form-group">

            @Html.LabelFor(modelItem => modelItem.Gia, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(modelItem => modelItem.Gia, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(modelItem => modelItem.Gia, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(modelItem => modelItem.SoLuong, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(modelItem => modelItem.SoLuong, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(modelItem => modelItem.SoLuong, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(modelItem => modelItem.Trangthai, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                <div class="checkbox">
                    @Html.EditorFor(modelItem => modelItem.Trangthai)
                    @Html.ValidationMessageFor(modelItem => modelItem.Trangthai, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>

        <div class="form-group" style="float : right;">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Lưu" class="btn btn-success" />
            </div>
        </div>
    </div>
        }
    </div>
</div>

